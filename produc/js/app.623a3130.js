(function(e){function t(t){for(var s,a,i=t[0],l=t[1],u=t[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&d.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},o=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3f76":function(e,t,r){"use strict";var s=r("7e3b"),n=r.n(s);n.a},"56d7":function(e,t,r){"use strict";r.r(t);var s=r("2b0e"),n=r("bc3a"),o=r.n(n),a=r("5c96"),i=r.n(a),l=(r("0fae"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.LogIn?r("App"):r("Login",{attrs:{login:e.LogIn},on:{"update:login":function(t){e.LogIn=t}}})],1)}),u=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"toolBox"},[r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.addItem}},[e._v("添加")])],1),r("div",e._l(e.wxList,(function(t,s){return r("el-row",{key:s,attrs:{gutter:20}},[r("br"),r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"微信号",clearable:""},model:{value:t.wx,callback:function(r){e.$set(t,"wx",r)},expression:"item.wx"}})],1),r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"名字",clearable:""},model:{value:t.name,callback:function(r){e.$set(t,"name",r)},expression:"item.name"}})],1),r("el-col",{attrs:{span:8}},[r("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[r("el-image",{directives:[{name:"show",rawName:"v-show",value:t.qr_url,expression:"item.qr_url"}],staticStyle:{width:"180px"},attrs:{src:t.qr_url,fit:"cover"}}),r("el-input",{attrs:{slot:"reference",placeholder:"二维码地址",disabled:!0},slot:"reference",model:{value:t.qr_url,callback:function(r){e.$set(t,"qr_url",r)},expression:"item.qr_url"}})],1)],1),r("el-col",{attrs:{span:2}},[r("el-upload",{attrs:{action:"up_qr.php",accept:"image/*",multiple:!1,"show-file-list":!1,"on-success":e.onSuccess(s),"on-error":e.onError,"on-progress":e.onProgress,"http-request":e.DiyUpRequest}},[r("el-button",{attrs:{type:"primary"}},[e._v("上传")])],1)],1),r("el-col",{attrs:{span:2}},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.delItem(s)}}},[e._v("删除")])],1)],1)})),1),r("br"),r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)])},p=[],d={name:"App",data(){return{loading:null,wxList:[{wx:"",name:"",qr_url:""}]}},created(){this.getWx()},methods:{getWx(){this.$axios.get("get_original.php").then(e=>{if(e.data instanceof Array)return this.wxList=e.data;if(e.data instanceof String)try{let t=JSON.parse(e.data);if(t instanceof Array)return this.wxList=t;new Error}catch(t){this.$message.error("数据格式错误")}}).catch(e=>{this.$message.error(e.response.data)})},delItem(e){if(this.wxList.length<=1)return this.$message({message:"必须有一个",type:"warning"});this.wxList.splice(e,1)},addItem(){this.wxList.push({wx:"",name:"",qr_url:""})},submit(){let e=JSON.stringify(this.wxList.filter(e=>e.wx)),t=new FormData;t.append("weixin",e),this.$axios.post("set_original.php",t).then(()=>{this.$message({message:"更新成功",type:"success"}),this.getWx()}).catch(e=>{this.$message.error(e.response.data)})},onSuccess(e){return t=>{this.loading.close(),this.wxList[e].qr_url=t.data,this.$message({message:"上传成功",type:"success"})}},onError(e){this.loading.close(),this.$message.error(e.response.data)},onProgress(){this.loading=this.$loading({lock:!0,text:"上传中，请稍后"})},DiyUpRequest({action:e,file:t,filename:r,onError:s,onProgress:n,onSuccess:o}){n("");let a=new FormData;a.append(r,t),this.$axios.post(e,a).then(o,s)}}},m=d,f=(r("3f76"),r("2877")),g=Object(f["a"])(m,c,p,!1,null,"94314fea",null),h=g.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"registerBox"},[r("div",{staticStyle:{width:"360px"}},[r("h1",{staticStyle:{"text-align":"center"}},[e._v("Lingx换号")]),r("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"label-width":"46px"}},[r("el-form-item",{attrs:{label:"账号",prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-checkbox",{model:{value:e.recordslog,callback:function(t){e.recordslog=t},expression:"recordslog"}},[e._v("7天免登录")])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")]),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])},v=[],x=r("a78e"),w=r.n(x),y={data(){return{recordslog:!0,loginForm:{username:"",password:""},user:{username:"admin",password:"123456"}}},methods:{submitForm(){return this.loginForm.username!==this.user.username?this.$message.error("账号错误"):this.loginForm.password!==this.user.password?this.$message.error("密码错误"):(this.$message({message:"登录成功",type:"success"}),this.recordslog?w.a.set("_userlogin","true",{expires:7}):w.a.remove("_userlogin"),void this.$emit("update:login",!0))},resetForm(){this.$refs.loginForm.resetFields()}}},_=y,$=(r("9c42"),Object(f["a"])(_,b,v,!1,null,"55c7a5dd",null)),k=$.exports,F={components:{App:h,Login:k},data(){return{LogIn:!1}},mounted(){w.a.get("_userlogin")&&(this.LogIn=!0)}},L=F,O=Object(f["a"])(L,l,u,!1,null,null,null),S=O.exports;r("f5df");s["default"].use(i.a),s["default"].config.productionTip=!1,o.a.defaults.baseURL="./",s["default"].prototype.$axios=o.a,new s["default"]({render:e=>e(S)}).$mount("#app")},"7e3b":function(e,t,r){},8073:function(e,t,r){},"9c42":function(e,t,r){"use strict";var s=r("8073"),n=r.n(s);n.a}});
//# sourceMappingURL=app.623a3130.js.map